<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <link rel="preload" as="image" href="img/start-page.webp">
    <link rel="preload" as="image" href="img/background.webp">
    <link rel="preload" as="image" href="img/game-over.webp">
    <link rel="shortcut icon" href="img/favicon.ico" />
    <link rel="stylesheet" href="style.css" />
    <title>Flappy Poop</title>
    <style>
      canvas {
        background-image: url('img/background.webp');
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        overflow: hidden;
      }
    </style>
  </head>
  <body onload="getNickname()">
    <div class="container" id="start-game">
      <h2 class="custom-text" id="score-text"></h2>
      <label id="label-nickname" class="label-nickname">NICKNAME:</label>
      <input id="nickname" type="text" placeholder="Enter your nickname" />
      <button class="start-retry-btn animation-zoom" id="start-btn" onclick="startGame()" disabled>
        START
      </button>
      <button
        class="start-retry-btn"
        id="retry-btn"
        onclick="window.location.reload()"
      >
        Retry
      </button>
      <!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>MODALE INFO<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< -->
      <div id="info-modal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <p>
            For bug reports, or suggestions on how to improve, you can contact me at:
            <a href="mailto:lucarhcp88@hotmail.it">lucarhcp88@hotmail.it</a>
          </p>
          
          <p class="social">
            My YouTube channel:
            <a
              href="https://www.youtube.com/channel/UCVPzu5zrXrt8cgSEm73zVzA"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img class="icon" src="img/youtube.webp" alt="youtube-icon" />
            </a>
          </p>
          <p class="social">
            My LinkedIn profile:
            <a
              href="https://www.linkedin.com/in/luca-caputo-1ba548140/
              target="_blank"
              rel="noopener noreferrer"
            >
              <img class="icon" src="img/linkedin.webp" alt="linkedin-icon" />
            </a>
          </p>
          <div class="share-container">
            <button class="share-btn" onclick="shareLink()">
              <img src="img/share.webp" alt="share"> SHARE
            </button> 
            <p id="link-copied" class="link-copied">Link copied to clipboard, paste it with whoever you want.</p>
          </div>
          <p>
            <small>Tip: every now and then restart the app, so as to always find it updated and functional.</small>
          </p>
          <div class="info-problems">
            <p class="info-problems-title">Problems?</p>
            <p>If the game's movements are jerky or very slow, check:</p>
            <ul>
              <li>the speed of your Internet connection.</li>
              <li>the memory of your device.</li>
              <li>the amount of apps open in the background.</li>
            </ul>
            <p>These are the factors that could slow down the game. So make sure you have a good internet connection, don't have low memory on your device, and don't have many apps running in the background.</p>
          </div>
          <div class="info-footer">
            <p id="copyright"></p>
            <p class="privacy-policy">
              <a href="https://www.iubenda.com/privacy-policy/57073714" class="iubenda-black iubenda-noiframe iubenda-embed iubenda-noiframe" title="Privacy Policy ">Privacy Policy</a><script type="text/javascript">(function (w,d) {var loader = function () {var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0]; s.src="https://cdn.iubenda.com/iubenda.js"; tag.parentNode.insertBefore(s,tag);}; if(w.addEventListener){w.addEventListener("load", loader, false);}else if(w.attachEvent){w.attachEvent("onload", loader);}else{w.onload = loader;}})(window, document);</script>  
            </p> 
          </div>
        </div>
      </div>
      <img id="info-btn" class="info-btn animation-zoom" src="img/toilet-paper.webp" alt="info-btn">

      <!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>MODALE RANKING<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<< -->
      <div id="ranking-modal" class="modal">
        <div class="rank-modal-content">
          <span class="close">&times;</span>
          <h1 class="rank-modal-title">GLOBAL SCORES</h1>
            <div class="scores-container">
              <!-- per il momento ne metto 10+5 ma in futuro se l'app cresce ne metto 20/30, quindi altri <div class="second/third-ten"> ecc. -->
              <div class="first-ten">
                <h2 id="loading">...LOADING...</h2>
                <ul id="users-container" class="users-container">
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <!-- per il momento aggiungo 5 e ne faccio 15 totali -->
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                  <li id="user" class="user">NO-USER <span id="score" class="score">0</span></li>
                </ul>
              </div>
            </div>

        </div>
      </div>
      <img id="ranking-btn" class="ranking-btn animation-zoom" src="img/ranking.webp" alt="info-btn">
      
      <div id="no-nickname-modal" class="modal">
        <div class="modal-content no-nickname-modal-content">
          <span class="close">&times;</span>
          <h2>INSERT A NICKNAME PLEASE!</h2>
        </div>
      </div>

      <audio id="audio">
        <source src="sounds/LightMyFire.mp3" type="audio/mpeg" />
        Your browser does not support the audio element.
      </audio>
       <button id="audio-btn" class="audio-btn" onclick="toggleAudio()">
        <img id="audio-icon" src="img/sound-off.webp" alt="audio_play/pause" />
      </button>
    </div>
    <br />
    <button
      class="fly-btn"
      id="fly-poop"
      onmousedown="accelerate(-0.4)"
      onmouseup="accelerate(0.15)"
    >
      FLY
    </button>
    <button 
      class="stop-btn" 
      id="stop-poop"
      onclick="window.location.reload()"
    >
      &#11035;
    </button>
  </body>
  <script src="main.js" charset="utf-8"></script>
  <script type="module">
    const _0x494487=_0x3cd8;(function(_0x6d7b58,_0x4942e8){const _0x3f0ed5=_0x3cd8,_0x24d6d3=_0x6d7b58();while(!![]){try{const _0x35d22a=-parseInt(_0x3f0ed5(0x19d))/0x1+parseInt(_0x3f0ed5(0x162))/0x2+parseInt(_0x3f0ed5(0x136))/0x3+-parseInt(_0x3f0ed5(0x154))/0x4+parseInt(_0x3f0ed5(0x17a))/0x5*(-parseInt(_0x3f0ed5(0x19a))/0x6)+parseInt(_0x3f0ed5(0x14b))/0x7+parseInt(_0x3f0ed5(0x1b4))/0x8;if(_0x35d22a===_0x4942e8)break;else _0x24d6d3['push'](_0x24d6d3['shift']());}catch(_0x15611b){_0x24d6d3['push'](_0x24d6d3['shift']());}}}(_0x1337,0xad46c));const _0x217e1d=(function(){let _0x3b3246=!![];return function(_0x1fad1c,_0x52506c){const _0x56b34d=_0x3b3246?function(){const _0x54529a=_0x3cd8;if(_0x52506c){const _0x449a7f=_0x52506c[_0x54529a(0x12c)](_0x1fad1c,arguments);return _0x52506c=null,_0x449a7f;}}:function(){};return _0x3b3246=![],_0x56b34d;};}()),_0x2174c5=_0x217e1d(this,function(){const _0x5dd7e8=_0x3cd8;return _0x2174c5['toStr'+_0x5dd7e8(0x147)]()[_0x5dd7e8(0x14d)+'h'](_0x5dd7e8(0x149)+_0x5dd7e8(0x186)+'+$')[_0x5dd7e8(0x1af)+_0x5dd7e8(0x147)]()[_0x5dd7e8(0x196)+_0x5dd7e8(0x176)+'r'](_0x2174c5)[_0x5dd7e8(0x14d)+'h'](_0x5dd7e8(0x149)+_0x5dd7e8(0x186)+'+$');});_0x2174c5();const _0x3df27b=(function(){let _0x33121e=!![];return function(_0x5ebb30,_0x5c4985){const _0x77dedb=_0x33121e?function(){const _0x53662b=_0x3cd8;if(_0x5c4985){const _0x2f34f2=_0x5c4985[_0x53662b(0x12c)](_0x5ebb30,arguments);return _0x5c4985=null,_0x2f34f2;}}:function(){};return _0x33121e=![],_0x77dedb;};}());(function(){_0x3df27b(this,function(){const _0x15e13f=_0x3cd8,_0x153b1f=new RegExp(_0x15e13f(0x15a)+_0x15e13f(0x18c)+'\x5c(\x20*\x5c'+')'),_0x212527=new RegExp('\x5c+\x5c+\x20'+_0x15e13f(0x15d)+_0x15e13f(0x11f)+'Z_$]['+_0x15e13f(0x16c)+_0x15e13f(0x1a3)+_0x15e13f(0x19c),'i'),_0x147a5f=_0x22aa40(_0x15e13f(0x121));!_0x153b1f['test'](_0x147a5f+_0x15e13f(0x125))||!_0x212527[_0x15e13f(0x14e)](_0x147a5f+_0x15e13f(0x1a5))?_0x147a5f('0'):_0x22aa40();})();}());import{initializeApp}from'https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js';import{getAnalytics}from'https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js';const firebaseConfig={'apiKey':_0x494487(0x1ae)+_0x494487(0x178)+'NY8_M'+'i446M'+_0x494487(0x13b)+_0x494487(0x1aa)+_0x494487(0x140)+_0x494487(0x155),'authDomain':_0x494487(0x166)+_0x494487(0x131)+_0x494487(0x193)+'ireba'+'seapp'+_0x494487(0x13c),'projectId':_0x494487(0x166)+_0x494487(0x131)+_0x494487(0x129),'storageBucket':'my-da'+_0x494487(0x131)+_0x494487(0x124)+_0x494487(0x1b5)+_0x494487(0x148),'messagingSenderId':_0x494487(0x189)+_0x494487(0x161)+'19','appId':'1:622'+_0x494487(0x12e)+_0x494487(0x12f)+'web:6'+_0x494487(0x139)+_0x494487(0x182)+'c5204'+_0x494487(0x175)+'2','measurementId':_0x494487(0x16d)+_0x494487(0x122)+'9C'},app=initializeApp(firebaseConfig),analytics=getAnalytics(app);import{getDatabase,ref,set,get,child,remove}from'https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js';const db=getDatabase();document[_0x494487(0x123)+_0x494487(0x159)+_0x494487(0x1a6)+'r'](_0x494487(0x16f)+_0x494487(0x1ad)+_0x494487(0x1a4)+'d',getData),document[_0x494487(0x133)+_0x494487(0x173)+'ById'](_0x494487(0x160)+'ng-bt'+'n')[_0x494487(0x123)+_0x494487(0x159)+'stene'+'r'](_0x494487(0x19b),getData);function _0x1337(){const _0x188d6c=['retur','he\x20ap','gger','inner','nk-nu','none','be7.f','{}.co','by\x20cl','const','>If\x20t','was\x20a','ainer','6hfPvRB','click','$]*)','1142876cUDSMm','rn\x20th','-cont','</a>.','\x22mail','count','zA-Z_','Loade','input','stene','Selec','HTML','ror\x20p','D8USF','usern','state','ntent','AIzaS','toStr','g\x20<a\x20','then','local','again','11338520sMhVNF','ppspo','p88@h','query','n()\x20','block','is\x22)(','\x20try\x20','val','a-zA-','l.it\x22','init','CRK12','addEv','be7.a','chain','>here','e\x22\x20cl','exist','be7','sort','ickin','apply','catch','81455','9319:','n\x20err','ta-b4','<h2>O','getEl','e)\x20{}','otmai','533469JHxKgD','punt','p\x20and','03a6c','</spa','b7uQA','.com','\x20\x20<h4','<span','to:lu','ViaRH','\x22scor','rever','carhc','slice','port\x20','style','ing','t.com','(((.+','loadi','9649325AtuFhJ','users','searc','test','n\x20id=','lengt','n>\x20','some','while','4995032nHcfAm','yMss','getIt','setIn','actio','entLi','funct','\x20rest','nctio','*(?:[','forEa','mber\x22','ranki','45593','362392AMcQrE','art\x20t','he\x20er','here\x20','my-da','map','\x22retu','</h4>','ById','strin','0-9a-','G-409','>\x20\x0a\x20\x20','DOMCo','score','debu','n\x20(fu','ement','\x20clas','4fb71','ructo','Stora','yCXSf','t\x20sup','267175AqwIrP','Objec','lease','torAl','nickn','setIt','log','ame','1320c','ontac','or,\x20p','ersis',')+)+)','\x20<spa','ctor(','62281','nstru','displ','ion\x20*'];_0x1337=function(){return _0x188d6c;};return _0x1337();}const nickname=localStorage['getIt'+'em'](_0x494487(0x17e)+'ame'),score=localStorage[_0x494487(0x156)+'em'](_0x494487(0x137)),errorMessage=_0x494487(0x132)+'ops\x20t'+_0x494487(0x165)+_0x494487(0x198)+_0x494487(0x130)+_0x494487(0x184)+_0x494487(0x17c)+_0x494487(0x15b)+_0x494487(0x163)+_0x494487(0x18e)+_0x494487(0x138)+_0x494487(0x1bb)+_0x494487(0x1b3)+'.</h2'+_0x494487(0x16e)+_0x494487(0x13d)+_0x494487(0x197)+_0x494487(0x164)+_0x494487(0x1a9)+_0x494487(0x185)+'ts,\x20c'+_0x494487(0x183)+_0x494487(0x179)+_0x494487(0x145)+_0x494487(0x195)+_0x494487(0x12b)+_0x494487(0x1b0)+'href='+_0x494487(0x1a1)+_0x494487(0x13f)+_0x494487(0x143)+_0x494487(0x1b6)+_0x494487(0x135)+_0x494487(0x120)+_0x494487(0x126)+_0x494487(0x1a0)+_0x494487(0x169),dblimit=0xf;function insertData(){const _0x3c2e55=_0x494487;+score>0x0&&set(ref(db,_0x3c2e55(0x14c)+'/'+score),{'username':nickname,'score':score})['catch'](_0x266f8b=>{const _0x32ef47=_0x3c2e55;document[_0x32ef47(0x133)+_0x32ef47(0x173)+'ById']('users'+_0x32ef47(0x19f)+_0x32ef47(0x199))[_0x32ef47(0x190)+_0x32ef47(0x1a8)]=errorMessage,console[_0x32ef47(0x180)](_0x266f8b);});}(function(){const _0x16637d=_0x494487,_0x448cda=function(){const _0x3ca1ed=_0x3cd8;let _0x1b67f8;try{_0x1b67f8=Function(_0x3ca1ed(0x18d)+_0x3ca1ed(0x172)+_0x3ca1ed(0x15c)+_0x3ca1ed(0x1b8)+(_0x3ca1ed(0x194)+_0x3ca1ed(0x18a)+_0x3ca1ed(0x188)+_0x3ca1ed(0x168)+_0x3ca1ed(0x19e)+_0x3ca1ed(0x1ba)+'\x20)')+');')();}catch(_0x17bce9){_0x1b67f8=window;}return _0x1b67f8;},_0x3c1e1a=_0x448cda();_0x3c1e1a[_0x16637d(0x157)+'terva'+'l'](_0x22aa40,0x3e8);}());;function selectData(_0xe1934b){const _0x41a337=_0x494487;if(+score>0x0){const _0x2f5d89=ref(db);get(child(_0x2f5d89,_0x41a337(0x14c)+'/'+_0xe1934b[0x0][_0x41a337(0x170)]))['then'](_0x2bd522=>{const _0x237a46=_0x41a337;_0x2bd522[_0x237a46(0x128)+'s']()&&+score>_0x2bd522[_0x237a46(0x1bc)]()['score']&&deleteData(_0x2bd522[_0x237a46(0x1bc)]());})[_0x41a337(0x12d)](_0x4f5a58=>{const _0x34326a=_0x41a337;document[_0x34326a(0x133)+_0x34326a(0x173)+'ById'](_0x34326a(0x14c)+'-cont'+_0x34326a(0x199))[_0x34326a(0x190)+_0x34326a(0x1a8)]=errorMessage,console['log'](_0x4f5a58);});}}function _0x3cd8(_0x3e0760,_0x559412){const _0x48d2d3=_0x1337();return _0x3cd8=function(_0x22aa40,_0x3df27b){_0x22aa40=_0x22aa40-0x11f;let _0x434c68=_0x48d2d3[_0x22aa40];return _0x434c68;},_0x3cd8(_0x3e0760,_0x559412);}function deleteData(_0x274e96){const _0x3c5c8d=_0x494487;remove(ref(db,_0x3c5c8d(0x14c)+'/'+_0x274e96[_0x3c5c8d(0x170)]))['then'](()=>{insertData();})['catch'](_0x12369a=>{const _0x3fd456=_0x3c5c8d;document[_0x3fd456(0x133)+_0x3fd456(0x173)+_0x3fd456(0x16a)]('users'+'-cont'+_0x3fd456(0x199))['inner'+_0x3fd456(0x1a8)]=errorMessage,console['log'](_0x12369a);});}function getData(){const _0x9f7426=_0x494487;document['getEl'+_0x9f7426(0x173)+'ById'](_0x9f7426(0x14c)+'-cont'+_0x9f7426(0x199))[_0x9f7426(0x146)][_0x9f7426(0x18b)+'ay']=_0x9f7426(0x192),document[_0x9f7426(0x133)+_0x9f7426(0x173)+_0x9f7426(0x16a)](_0x9f7426(0x14a)+'ng')['style'][_0x9f7426(0x18b)+'ay']=_0x9f7426(0x1b9);const _0x3a9c3c=ref(db);get(child(_0x3a9c3c,_0x9f7426(0x14c)+'/'))[_0x9f7426(0x1b1)](_0x4f661c=>{const _0x2b178c=_0x9f7426,_0x5373da=[];_0x4f661c[_0x2b178c(0x15e)+'ch'](_0x1ed334=>{const _0x2c9e35=_0x2b178c;_0x5373da['push'](_0x1ed334[_0x2c9e35(0x1bc)]());});const _0x42c578=_0x5373da[_0x2b178c(0x12a)]((_0x5227a8,_0x47291c)=>{const _0x5108a4=_0x2b178c;return _0x5227a8['score']-_0x47291c[_0x5108a4(0x170)];})[_0x2b178c(0x142)+'se'](),_0x36b20c=_0x42c578[_0x2b178c(0x152)](_0x352946=>_0x352946['score']==score);if(_0x42c578[_0x2b178c(0x150)+'h']<=dblimit-0x1||_0x36b20c)insertData();else{const _0x4d9106=_0x42c578[_0x2b178c(0x144)](-0x1);selectData(_0x4d9106);}document[_0x2b178c(0x133)+_0x2b178c(0x173)+'ById'](_0x2b178c(0x14a)+'ng')[_0x2b178c(0x146)]['displ'+'ay']=_0x2b178c(0x192),document[_0x2b178c(0x133)+_0x2b178c(0x173)+_0x2b178c(0x16a)]('users'+'-cont'+_0x2b178c(0x199))[_0x2b178c(0x146)]['displ'+'ay']=_0x2b178c(0x1b9),updateRanking(_0x42c578);})[_0x9f7426(0x12d)](_0x583747=>{const _0x513df1=_0x9f7426;document[_0x513df1(0x133)+_0x513df1(0x173)+_0x513df1(0x16a)](_0x513df1(0x14c)+_0x513df1(0x19f)+'ainer')[_0x513df1(0x190)+_0x513df1(0x1a8)]=errorMessage,console[_0x513df1(0x180)](_0x583747);});};function updateRanking(_0x374d7e){const _0x43881b=_0x494487,_0x1dc945=document[_0x43881b(0x1b7)+_0x43881b(0x1a7)+_0x43881b(0x17d)+'l']('#user');_0x1dc945['forEa'+'ch']((_0x19990a,_0x1b0a3c)=>{const _0x210ab0=_0x43881b;_0x374d7e[_0x210ab0(0x167)]((_0x3a99ae,_0xcef6ab)=>{const _0x953de4=_0x210ab0;if(_0xcef6ab===_0x1b0a3c){const _0x16e1d3=_0x3a99ae[_0x953de4(0x1ab)+'ame'][_0x953de4(0x150)+'h']>0xf?_0x3a99ae[_0x953de4(0x1ab)+'ame'][_0x953de4(0x144)](0x0,0xf)+'...':_0x3a99ae[_0x953de4(0x1ab)+_0x953de4(0x181)];_0x19990a['inner'+_0x953de4(0x1a8)]=_0x953de4(0x13e)+_0x953de4(0x174)+'s=\x22ra'+_0x953de4(0x191)+_0x953de4(0x15f)+'>'+(_0x1b0a3c+0x1)+('</spa'+_0x953de4(0x151))+_0x16e1d3+(_0x953de4(0x187)+_0x953de4(0x14f)+_0x953de4(0x141)+_0x953de4(0x127)+'ass=\x22'+'score'+'\x22>')+_0x3a99ae['score']+(_0x953de4(0x13a)+'n>'),window[_0x953de4(0x1b2)+_0x953de4(0x177)+'ge'][_0x953de4(0x17f)+'em'](_0x953de4(0x137),0x0);}});});}function _0x22aa40(_0x3ffb81){function _0x57c56e(_0xf25acf){const _0x1a7d82=_0x3cd8;if(typeof _0xf25acf===_0x1a7d82(0x16b)+'g')return function(_0xefc0b4){}[_0x1a7d82(0x196)+_0x1a7d82(0x176)+'r'](_0x1a7d82(0x153)+'\x20(tru'+_0x1a7d82(0x134))['apply'](_0x1a7d82(0x1a2)+'er');else(''+_0xf25acf/_0xf25acf)[_0x1a7d82(0x150)+'h']!==0x1||_0xf25acf%0x14===0x0?function(){return!![];}[_0x1a7d82(0x196)+_0x1a7d82(0x176)+'r'](_0x1a7d82(0x171)+_0x1a7d82(0x18f))['call'](_0x1a7d82(0x158)+'n'):function(){return![];}[_0x1a7d82(0x196)+_0x1a7d82(0x176)+'r'](_0x1a7d82(0x171)+'gger')[_0x1a7d82(0x12c)](_0x1a7d82(0x1ac)+_0x1a7d82(0x17b)+'t');_0x57c56e(++_0xf25acf);}try{if(_0x3ffb81)return _0x57c56e;else _0x57c56e(0x0);}catch(_0x1ab3bf){}}
  </script>
</html>
